<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://portdic.com/package/">
    <link rel="shortcut icon" href="../img/favicon.ico">

    
    <title>Packages - Port</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../css/base.min.css" rel="stylesheet">
    <link href="../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="..">Port</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../learn/">Learn</a>
                    </li>
                
                
                
                    <li class="active">
                        <a href="./">Packages</a>
                    </li>
                
                
                
                    <li >
                        <a href="../portdic/">Dictionary</a>
                    </li>
                
                
                
                    <li >
                        <a href="../commands/">Commands</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../learn/">
                            <i class="fas fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="../portdic/">
                            Next <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#whats-package">What's Package</a></li>
            <li class="second-level"><a href="#download">Download</a></li>
                
            <li class="second-level"><a href="#package-annotation">Package Annotation</a></li>
                
                <li class="third-level"><a href="#port">Port</a></li>
                <li class="third-level"><a href="#property">Property</a></li>
                <li class="third-level"><a href="#message">Message</a></li>
                <li class="third-level"><a href="#logger">Logger</a></li>
                <li class="third-level"><a href="#regex">Regex</a></li>
                <li class="third-level"><a href="#enumcode">EnumCode</a></li>
                <li class="third-level"><a href="#comment">Comment</a></li>
            <li class="second-level"><a href="#how-to-create-a-packages">How to create a packages</a></li>
                
                <li class="third-level"><a href="#create-a-class-librarynet">Create a class library(.net)</a></li>
                <li class="third-level"><a href="#packing-packages">Packing packages</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="whats-package">What's Package<a class="headerlink" href="#whats-package" title="Permanent link">&para;</a></h1>
<hr />
<p>The Port package is a collection of reusable libraries. Users can develop packages by inheriting the <code>PortObject</code>, then link it to a Message, allowing for straightforward usage through Message calls.</p>
<h2 id="download">Download<a class="headerlink" href="#download" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>NAME</th>
<th>Language</th>
<th>Package Manager</th>
<th>OS</th>
<th>STABLE</th>
</tr>
</thead>
<tbody>
<tr>
<td>Port.SDK</td>
<td>C#</td>
<td>Nuget</td>
<td>Windows x64</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="package-annotation">Package Annotation<a class="headerlink" href="#package-annotation" title="Permanent link">&para;</a></h2>
<hr />
<table>
<thead>
<tr>
<th>name</th>
<th>targets</th>
<th>type</th>
<th>arguments</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Port</td>
<td>class</td>
<td><code>-</code></td>
<td><code>Class Type</code></td>
<td>Declaring a port attribute in a class designates that class as one managed by the port system. Once declared, the class can be registered as part of a package.</td>
</tr>
<tr>
<td>Message</td>
<td>property</td>
<td><code>string|double</code></td>
<td><code>-</code></td>
<td>Messages are declared, and the values defined as properties can be controlled through package calls.</td>
</tr>
<tr>
<td>Logger</td>
<td>property</td>
<td><code>ILogger</code></td>
<td><code>-</code></td>
<td>Specifies that the Logger field is to be injected with a logging system or service.</td>
</tr>
<tr>
<td>Property</td>
<td>property</td>
<td><code>IProperty</code></td>
<td><code>Message name</code></td>
<td>Maps the property to a pre-declared Message Property.</td>
</tr>
<tr>
<td>Vaild</td>
<td>method<p>property</td>
<td><code>bool</code></td>
<td><code>invalid comment</code></td>
<td>Maps the property to a pre-declared Message Property.</td>
</tr>
</tbody>
</table>
<h4 id="port">Port<a class="headerlink" href="#port" title="Permanent link">&para;</a></h4>
<p>This annotation indicates that the Bulb class is managed within the Port Package.</p>
<div class="code-box">
<pre>
<code id="code-snippet" class="language-csharp">  
    [Port(typeof(Bulb))]
    public class Bulb
    ...
</code>
</div>
</pre>
<h4 id="property">Property<a class="headerlink" href="#property" title="Permanent link">&para;</a></h4>
<p>This annotation maps the property to a pre-declared Message Property.</p>
<div class="code-box">
<pre>
<code id="code-snippet" class="language-csharp">  
    //if you want to use property for message
    [Message(PortDataType.Enum), Property] 
    public string OffOn
    {
        set
        {
            var prop = MessageProperty.Get();
            try
            {
                if (prop != null)
                {
                    Logger.Write("[Arguments]" + prop.Arguments[0]);
                    this.offon = value.String();
                }
            }
            catch (Exception ex)
            {
                   Logger.Write("[ERROR]" + ex.Message);
            }
        }
        get
        {
            return new Cache(this.offon);
        }
    }

</code>
</div>
</pre>
<h4 id="message">Message<a class="headerlink" href="#message" title="Permanent link">&para;</a></h4>
<p>Properties declared with Message Annotation are defined as API Messages and made available to the end-user. They apply only to properties with get and set accessors, and these getters and setters can be accessed and modified via a REST API.</p>
<div class="code-box">
<pre>
<code id="code-snippet" class="language-csharp">  
private static Random r = new Random(100);

[Message(PortDataType.Num), Property(PropertyFormat.Json)]
public double Temp
{
    get
    {
        var prop = MessageProperty.Get();
        if (prop != null)
        {
            if (prop.TryToGetValue("Arguments", out object value) && value.ToString() == "F")
            {
                return ((r.NextDouble() * 9 / 5) + 32);
            }
            else if (prop.TryToGetValue("Arguments", out object v2) && v2.ToString() == "C")
            {
                return (r.NextDouble());
            }
        }
        return (1);
    }
}

</code>
</div>
</pre>
<h4 id="logger">Logger<a class="headerlink" href="#logger" title="Permanent link">&para;</a></h4>
<p>This annotation specifies that the Logger field is to be injected with a logging system or service.
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>    [Logger]
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    public ILogger Logger { get; set; }
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    ...
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    Logger.Write(string.Join(&quot;,&quot;, v));
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    ...        
</span></code></pre></div></p>
<h4 id="regex">Regex<a class="headerlink" href="#regex" title="Permanent link">&para;</a></h4>
<p>Properties with Regex Annotation are subjected to a regular expression check when their values are changed. If the value does not pass the validation check, it is not updated, ensuring consistency and validity of the property's value.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>    [Message, Regex(RegexAttribute.Ip4vRegex)]
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    public string Address
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    {
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>        get;
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>        set;
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    }
</span></code></pre></div>
<h4 id="enumcode">EnumCode<a class="headerlink" href="#enumcode" title="Permanent link">&para;</a></h4>
<p>EnumCode Annotation are declared, the values of the enum can be accessed via an API. The API allows for the retrieval of information about the enumeration values, enabling external systems or users to interact with and obtain details about the enum through the API interface.
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>    [EnumCode]
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    public enum TestEnum : ushort
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    {
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>        _ = 0,
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>        TestEnumItem1,
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>        TestEnumItem2,
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>    }
</span></code></pre></div></p>
<h4 id="comment">Comment<a class="headerlink" href="#comment" title="Permanent link">&para;</a></h4>
<p>When Comment Annotation are declared, the comments associated with the property can be exposed through the API. This allows users or external systems to access descriptive information or documentation about the property via the API, providing context and clarity on the property's purpose or usage.
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>     [Message,Commnet(&quot;this is a numberic&quot;)]
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>     public int NValue { get =&gt; 3; }
</span></code></pre></div></p>
<h2 id="how-to-create-a-packages">How to create a packages<a class="headerlink" href="#how-to-create-a-packages" title="Permanent link">&para;</a></h2>
<hr />
<p>Let's develop a package. In the Port Application, all operations are grouped at the package level and function at the message level. Every operation is defined within messages, allowing users to increase code reusability through messages.</p>
<p><br></p>
<h3 id="create-a-class-librarynet">Create a class library(.net)<a class="headerlink" href="#create-a-class-librarynet" title="Permanent link">&para;</a></h3>
<h4 id="bulb-package">bulb package<a class="headerlink" href="#bulb-package" title="Permanent link">&para;</a></h4>
<div class="code-box">
<pre>
<code id="code-snippet" class="language-csharp">  
[Port(typeof(Bulb))]
public class Bulb
{ 
    [Logger]
    public ILogger Logger { get; set; }

    private SerialPortStream serialPort = new SerialPortStream();

    [Valid("")]
    public bool Valid()
    {
        return true;
    }

    private string comport;
    [Message(PortDataType.Text)]
    public string Comport
    {
        set
        {
            try
            {
                if (this.serialPort.PortName != value)
                {
                    this.serialPort = new SerialPortStream();
                    this.serialPort.PortName = value.ToString();
                    this.serialPort.BaudRate = 9600;
                    this.serialPort.DataBits = 8;
                    this.serialPort.StopBits = StopBits.One;
                    this.serialPort.Parity = Parity.Even;
                }
            }
            catch (System.Exception ex)
            {
                Logger.Write("[ERROR]" + ex.Message);
            }
        }
        get
        {
           return comport;
       }
   }
   private string offon = string.Empty;
   [Message(PortDataType.Enum), Property(PropertyFormat.Json)]
   public string OffOn
   {
       set
       {
           var prop = MessageProperty.Get();
           try
           {
               if (prop != null)
               {
                   //prop.Arguments[0]
                   //Logger.Write("[Arguments]" + prop.Arguments[0]);
                   this.offon = value;
               }
           }
           catch (Exception ex)
           {
               Logger.Write("[ERROR]" + ex.Message);
           }
       }
       get
       {
           return this.offon;
       }
   }
}
</code>
</pre>
</div>

<h4 id="heater-package">heater package<a class="headerlink" href="#heater-package" title="Permanent link">&para;</a></h4>
<div class="code-box">
<pre>
<code id="code-snippet" class="language-csharp">  
 [Port(typeof(Heater))]
 public class Heater
 {

    [Message(PortDataType.Text)]
    public string Power
    {
        set;
        get;
    }

    [Valid("Invlid for connection")]
    public bool Valid()
    {
       return true;
    }

    private static Random r = new Random(100);
    [Message(PortDataType.Num), Property(PropertyFormat.Json)]
    public double Temp
    {
         get
         {
             var prop = MessageProperty.Get();
             if (prop != null)
             {
                 if (prop.TryToGetValue("Arguments", out object value) && value.ToString() == "F")
                 {
                     return ((r.NextDouble() * 9 / 5) + 32);
                 }
                 else if (prop.TryToGetValue("Arguments", out object v2) && v2.ToString() == "C")
                 {
                     return (r.NextDouble());
                 }
             }
             return (1);
         }
    }
}
</code>
</pre>
</div>

<p><br/>
<br/></p>
<h3 id="packing-packages">Packing packages<a class="headerlink" href="#packing-packages" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><code>cd [Publish target location]</code></p>
</li>
<li>
<p><code>port pack [dllname] [pkg-name]</code></p>
</li>
<li>
<p>check logs
<br></p>
</li>
</ol>
<div class="console">
    <div class="console-content">
        PS C:\Users\Public\Dev\publish> port pack HeaterLib.dll HeaterLib1
        [PATH]C:\Users\Public\Dev\publish\HeaterLib.dll
        [ALREADY_RUN]PORT PACKAGE MANAGER
        [RUN]PORT PACKAGE MANAGER
        [PACK][pack] Packing started at 2025-01-07T21:17:19+09:00
        [PACK]load compelete C:\Users\Public\Dev\publish\HeaterLib.dll : heaterlib
        [PACK][GET][0] Power
        [PACK][GET][1] Temp
        [PACK][SET][0] Power
        [PACK]heaterlib,65025
        [PACK]initialization
        [CREATED][PACKAGE] ...\port\pkg\HeaterLib1.pkg
    </div>
</div>

<p><br></p>
<style>

.console {
    width: 80%;
    height: 80%;
    background-color: whitesmoke;
    color: black;
    padding: 20px;
    box-sizing: border-box;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    overflow-y: auto;
}
.yellow{
    color:yellow;
}
.console-content {
    white-space: pre-wrap;
}

.console-content p {
    margin: 0;
}


.notepad {
    width: 100%;
    height: 80%;
    background-color: white;
    color: black;
    padding: 20px;
    box-sizing: border-box;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    overflow-y: auto;
}

.notepad:before {
    content: '';
    position: absolute;
    top: 10px;
    left: 20px;
    right: 20px;
    height: 2px;
    background-color: #ccc;
}

.notepad:after {
    content: '';
    position: absolute;
    top: 30px;
    left: 20px;
    right: 20px;
    height: 2px;
    background-color: #ccc;
}

.notepad-content {
    margin-top: 40px;
}

.notepad-content p {
    margin: 0 0 10px;
    line-height: 1.5;
}
</style>
<p><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"></p>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-csharp.min.js"></script></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
          
            <hr>
            <p>
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
            </p>
          

          
          
      </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = ".."</script>
    
    <script src="../js/base.js"></script>
    <script src="../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
