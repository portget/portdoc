<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://portget.com/relation/">
    <link rel="shortcut icon" href="../img/favicon.ico">

    
    <title>Relation - Port</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../css/base.min.css" rel="stylesheet">
    <link href="../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="..">Port</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li class="active">
                        <a href="./">Relation</a>
                    </li>
                
                
                
                    <li >
                        <a href="../frame/">Frame</a>
                    </li>
                
                
                
                    <li >
                        <a href="../reference/">API Reference</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="..">
                            <i class="fas fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="../frame/">
                            Next <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#whats-relation">What's RELATION?</a></li>
        <li class="first-level "><a href="#get-started">Get Started</a></li>
            <li class="second-level"><a href="#add-reference">Add reference</a></li>
                
            <li class="second-level"><a href="#support-objects">Support objects</a></li>
                
            <li class="second-level"><a href="#net-80">.Net (&gt;= 8.0)</a></li>
                
                <li class="third-level"><a href="#scenariorelationservice">ScenarioRelationService</a></li>
                <li class="third-level"><a href="#intervalrelationservice">IntervalRelationService</a></li>
                <li class="third-level"><a href="#commrelationservice">CommRelationService</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="whats-relation">What's RELATION?<a class="headerlink" href="#whats-relation" title="Permanent link">&para;</a></h1>
<hr />
<p>This object is designed to efficiently manage libraries that serve as common denominators across multiple projects. Tailored for each language, these libraries facilitate seamless integration with the object and handle memory synchronization with ports. Users can conveniently utilize these libraries by inheriting or implementing the respective classes, ensuring ease of use.</p>
<h1 id="get-started">Get Started<a class="headerlink" href="#get-started" title="Permanent link">&para;</a></h1>
<hr />
<h3 id="add-reference">Add reference<a class="headerlink" href="#add-reference" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>NAME</th>
<th>Version</th>
<th>Path</th>
</tr>
</thead>
<tbody>
<tr>
<td>.net</td>
<td>&gt;8.0</td>
<td>../port/lib/net/portlib.dll</td>
</tr>
</tbody>
</table>
<h3 id="support-objects">Support objects<a class="headerlink" href="#support-objects" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>NAME</th>
<th>SETPOINT</th>
<th>DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td>ScenarioRelationService</td>
<td>frame</td>
<td>write a scenario where you inherit the object to control all message values and share messages across the system.</td>
</tr>
<tr>
<td>IntervalRelationService</td>
<td>frame</td>
<td>this is an object designed for managing a set of periodically called messages, allowing control over the values by periodically invoking messages to the system.</td>
</tr>
<tr>
<td>CommRelationService</td>
<td>endpoint</td>
<td>this object is designed for a set of messages requiring network endpoints. When inheriting this object, implementation of endpoint and connection status check functions is necessary. Through implementation of the required messages upon connection, it can be provided to the port application.</td>
</tr>
</tbody>
</table>
<h3 id="net-80">.Net (&gt;= 8.0)<a class="headerlink" href="#net-80" title="Permanent link">&para;</a></h3>
<hr />
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>[Properties] -&gt;  [Application] -&gt; [General] -&gt; [Traget OS] -&gt; check for windows</p>
</div>
<h4 id="scenariorelationservice">ScenarioRelationService<a class="headerlink" href="#scenariorelationservice" title="Permanent link">&para;</a></h4>
<pre><code class="language-C#"> public class HeatingScenario : ScenarioRelationService
 { 
     public HeatingScenario()
     {

     }

     /// &lt;summary&gt;
     /// start condition
     /// &lt;/summary&gt;
     /// &lt;returns&gt;start : true / skip : false&lt;/returns&gt;
     public override bool OpeningCredits()
     {

         var strValue = frame.GetValue(&quot;TemptureCheck&quot;);

         if (strValue == &quot;Starting&quot;)
         {
             return true;
         }

         return false;
     }
     /// &lt;summary&gt;
     /// end condition
     /// &lt;/summary&gt;
     /// &lt;returns&gt;start : true / skip : false&lt;/returns&gt;
     public override bool EndingCredits()
     {
         if (this.ShotNumber &gt; 3)
         { 
             return true;
         }

         return false;
     }

     [Message, Shot(1)]
     public ShotResult EVENT_1
     {
         set
         {
             var strValue = frame.GetValue(&quot;DevAPowerStatus&quot;);

             if (strValue == &quot;OK&quot;)
             {
                 value.NextShot();
             }
         }
     }

     [Message, Shot(2)]
     public ShotResult EVENT_2
     {
         set
         {
             if (frame.GetValue(&quot;DevCOnOff&quot;) != &quot;On&quot;)
             {
                 value.Occure(&quot;ERROR&quot;, &quot;Did not turn on.&quot;);
             }
             else
             {
                 value.NextShot();
             }
         }
     }

     [Message, Shot(3)]
     public ShotResult EVENT_3
     {
         set
         {
             var strValue = frame.GetValue(&quot;Temperature&quot;);

             if (strValue &lt;= 30)
             {
                 value.EndingCredits();
             }
         }
     } 
 }
</code></pre>
<h4 id="intervalrelationservice">IntervalRelationService<a class="headerlink" href="#intervalrelationservice" title="Permanent link">&para;</a></h4>
<pre><code class="language-C#">/// &lt;summary&gt;
/// 10ms interval serivce 
/// &lt;/summary&gt;
public class HeatingCheck : IntervalRelationService
{ 
    public HeatingCheck()
    {

    }

    /// &lt;summary&gt;
    /// Min-limit = 10ms 
    /// &lt;/summary&gt;
    public override int Interval { set; get; } = 10;

    public override void Tick()
    {
        if (frame.GetValue(&quot;Temperature&quot;) &gt;= 30)
        {
            Occure(&quot;WARNING&quot;, &quot;Too Hot&quot;);
        }
    }
}
</code></pre>
<h4 id="commrelationservice">CommRelationService<a class="headerlink" href="#commrelationservice" title="Permanent link">&para;</a></h4>
<pre><code class="language-C#"> /// &lt;summary&gt;
 /// Communication Relation Object 
 /// you must be implement IsConnected, Endpoint
 /// &lt;/summary&gt;
 public class Relation : CommRelationService
 {
     private SerialPort serialPort = new SerialPort();

     public Relation()
     {

     }

     // Just use here
     public string Name;

     // Check for connected
     protected override bool IsConnected()
     {
         return ((this.serialPort != null) &amp;&amp; (this.serialPort.IsOpen));
     }

     // port relation set Endpoint like COM13,9600,8,1,0,0 / TCP 
     [Message]
     public override IEndpoint Endpoint
     {
         set
         {
             if (value.Binding(this.serialPort))
             {
                 this.serialPort.Open();
             }
         }
         get
         {
             return this.address;
         }
     }

     [Message]
     public string GetPowerStatus
     {
         get
         {
             var message = Encoding.ASCII.GetBytes(&quot;power?\r\n&quot;);

             this.serialPort.Write(message, 0, message.Length);

             Thread.Sleep(300);

             var recv = new byte[0xff];

             var n = this.serialPort.Read(recv, 0, recv.Length);

             if (n != 0)
             { 
                 return Encoding.ASCII.GetString(recv);
             } 

             return &quot;Unknown&quot;;
         }
     }

     [Message]
     public string PowerOn
     {
         set
         {
            var message = Encoding.ASCII.GetBytes(&quot;powerOn\r\n&quot;);
            this.serialPort.Write(message, 0, message.Length);
         }
     }
 }
</code></pre>
<pre><code>port add --comm heating1 /TempLib/TempLib.dll COM8,115200,8,0,1
port add --comm heating2 /TempLib/TempLib.dll COM9,115200,8,0,1 
</code></pre></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
          
            <hr>
            <p>
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
            </p>
          

          
          
      </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = ".."</script>
    
    <script src="../js/base.js"></script>
    <script src="../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
