<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://portdic.com/package/">
    <link rel="shortcut icon" href="../img/favicon.ico">

    
    <title>Packages - Port</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../css/base.min.css" rel="stylesheet">
    <link href="../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="..">Port</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../learn/">Learn</a>
                    </li>
                
                
                
                    <li class="active">
                        <a href="./">Packages</a>
                    </li>
                
                
                
                    <li >
                        <a href="../portdic/">Dictionary</a>
                    </li>
                
                
                
                    <li >
                        <a href="../commands/">Commands</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../learn/">
                            <i class="fas fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="../portdic/">
                            Next <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#whats-package">What's Package</a></li>
            <li class="second-level"><a href="#download">Download</a></li>
                
            <li class="second-level"><a href="#package-annotation">Package Annotation</a></li>
                
                <li class="third-level"><a href="#port">Port</a></li>
                <li class="third-level"><a href="#property">Property</a></li>
                <li class="third-level"><a href="#message">Message</a></li>
                <li class="third-level"><a href="#logger">Logger</a></li>
                <li class="third-level"><a href="#regex">Regex</a></li>
                <li class="third-level"><a href="#enumcode">EnumCode</a></li>
                <li class="third-level"><a href="#comment">Comment</a></li>
            <li class="second-level"><a href="#how-to-create-a-packages">How to create a packages</a></li>
                
                <li class="third-level"><a href="#net">.net</a></li>
            <li class="second-level"><a href="#how-to-create-a-port-project">How to create a port-project</a></li>
                
                <li class="third-level"><a href="#heres-an-example">Here's an example</a></li>
            <li class="second-level"><a href="#how-to-add-messages">How to add messages</a></li>
                
                <li class="third-level"><a href="#sample-message-files">Sample message files</a></li>
            <li class="second-level"><a href="#how-to-link-packages">How to link packages</a></li>
                
                <li class="third-level"><a href="#checking-for-package">checking for package</a></li>
                <li class="third-level"><a href="#packages-list">packages list</a></li>
                <li class="third-level"><a href="#set-a-packages">Set a packages</a></li>
            <li class="second-level"><a href="#how-to-start-project">How to start project</a></li>
                
                <li class="third-level"><a href="#good-luck">Good luck!</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="whats-package">What's Package<a class="headerlink" href="#whats-package" title="Permanent link">&para;</a></h1>
<hr />
<p>The Port package is a collection of reusable libraries. Users can develop packages by inheriting the <code>PortObject</code>, then link it to a Message, allowing for straightforward usage through Message calls.</p>
<h2 id="download">Download<a class="headerlink" href="#download" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>NAME</th>
<th>Language</th>
<th>Package Manager</th>
<th>OS</th>
<th>STABLE</th>
</tr>
</thead>
<tbody>
<tr>
<td>Port.SDK</td>
<td>C#</td>
<td>Nuget</td>
<td>Windows x64</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="package-annotation">Package Annotation<a class="headerlink" href="#package-annotation" title="Permanent link">&para;</a></h2>
<hr />
<table>
<thead>
<tr>
<th>name</th>
<th>arguments</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Port</td>
<td><code>Class Type</code></td>
<td>Declaring a port attribute in a class designates that class as one managed by the port system. Once declared, the class can be registered as part of a package.</td>
</tr>
<tr>
<td>Message</td>
<td><code>-</code></td>
<td>Messages are declared, and the values defined as properties can be controlled through package calls.</td>
</tr>
<tr>
<td>Logger</td>
<td><code>-</code></td>
<td>Specifies that the Logger field is to be injected with a logging system or service.</td>
</tr>
<tr>
<td>Property</td>
<td><code>-</code></td>
<td>Maps the property to a pre-declared Message Property.</td>
</tr>
<tr>
<td>Regex</td>
<td><code>[Pattern|Type]</code></td>
<td>It is validated through a regular expression check. If the value matches the specified regular expression, it is accepted as valid; otherwise, an input exception is triggered.</td>
</tr>
<tr>
<td>EnumCode</td>
<td><code>-</code></td>
<td>The Enum type is declared, allowing you to retrieve the Enum values through this declaration.</td>
</tr>
<tr>
<td>Comment</td>
<td><code>-</code></td>
<td>A comment is declared, allowing you to retrieve the comment through this declaration.</td>
</tr>
</tbody>
</table>
<h4 id="port">Port<a class="headerlink" href="#port" title="Permanent link">&para;</a></h4>
<p>This annotation indicates that the Bulb class is managed within the Port Package.</p>
<pre><code>    [Port(typeof(Bulb))]
    public class Bulb
    ...
</code></pre>
<h4 id="property">Property<a class="headerlink" href="#property" title="Permanent link">&para;</a></h4>
<p>This annotation maps the property to a pre-declared Message Property named "OffOn".</p>
<pre><code>    //Load from .msg files. yellow and red
    [Property(&quot;OffOn&quot;)]
    public IProperty OffOnArgument { set; get; } 

</code></pre>
<h4 id="message">Message<a class="headerlink" href="#message" title="Permanent link">&para;</a></h4>
<p>Properties declared with Message Annotation are defined as API Messages and made available to the end-user. They apply only to properties with get and set accessors, and these getters and setters can be accessed and modified via a REST API.</p>
<pre><code>    [Message]
    public string OffOn
    {
        set
        {
            if (OffOnArgument != null)
            {
                OffOnArgument.TryToGetValue(&quot;Argument&quot;, out Value v);
                if (v.String() == &quot;yellow&quot;)
                {
                    this.SetColor(v.String());
                }
                else if (v.String() == &quot;red&quot;)
                {
                    this.SetColor(v.String());
                }
                Logger.Write(&quot;[SET]&quot; + v.String());
            }

            this.offon = value;
        }
        get =&gt; this.offon;
    }
</code></pre>
<h4 id="logger">Logger<a class="headerlink" href="#logger" title="Permanent link">&para;</a></h4>
<p>This annotation specifies that the Logger field is to be injected with a logging system or service.</p>
<pre><code>    [Logger]
    public ILogger Logger { get; set; }

    ...
    Logger.Write(string.Join(&quot;,&quot;, v));
    ...        

</code></pre>
<h4 id="regex">Regex<a class="headerlink" href="#regex" title="Permanent link">&para;</a></h4>
<p>Properties with Regex Annotation are subjected to a regular expression check when their values are changed. If the value does not pass the validation check, it is not updated, ensuring consistency and validity of the property's value.</p>
<pre><code>    [Message, Regex(RegexAttribute.Ip4vRegex)]
    public string Address
    {
        get;
        set;
    }
</code></pre>
<h4 id="enumcode">EnumCode<a class="headerlink" href="#enumcode" title="Permanent link">&para;</a></h4>
<p>EnumCode Annotation are declared, the values of the enum can be accessed via an API. The API allows for the retrieval of information about the enumeration values, enabling external systems or users to interact with and obtain details about the enum through the API interface.</p>
<pre><code>    [EnumCode]
    public enum TestEnum : ushort
    {
        _ = 0,
        TestEnumItem1,
        TestEnumItem2,
    }
</code></pre>
<h4 id="comment">Comment<a class="headerlink" href="#comment" title="Permanent link">&para;</a></h4>
<p>When Comment Annotation are declared, the comments associated with the property can be exposed through the API. This allows users or external systems to access descriptive information or documentation about the property via the API, providing context and clarity on the property's purpose or usage.</p>
<pre><code>     [Message,Commnet(&quot;this is a numberic&quot;)]
     public int NValue { get =&gt; 3; }
</code></pre>
<h2 id="how-to-create-a-packages">How to create a packages<a class="headerlink" href="#how-to-create-a-packages" title="Permanent link">&para;</a></h2>
<hr />
<p>Let's develop a package. In the Port Application, all operations are grouped at the package level and function at the message level. Every operation is defined within messages, allowing users to increase code reusability through messages.</p>
<p><br></p>
<h3 id="net">.net<a class="headerlink" href="#net" title="Permanent link">&para;</a></h3>
<h4 id="bulb-package">bulb package<a class="headerlink" href="#bulb-package" title="Permanent link">&para;</a></h4>
<pre><code class="language-C#">
 [Port(typeof(Bulb))]
 public class Bulb
 {
     public string offon = &quot;Off&quot;;

     [Property(&quot;OffOn&quot;)]
     public IProperty OffOnArgument { set; get; }

     [Logger]
     public ILogger Logger { get; set; }

     private System.IO.Ports.SerialPort serialPort = new System.IO.Ports.SerialPort();

     private void SetColor(string color)
     {
         this.serialPort.Write(&quot;set:color:&quot; + color + &quot;\n&quot;);
     }

     private string comport;
     [Message]
     public string Comport
     {
         set
         {
             try
             {
                 if (this.serialPort.PortName != value)
                 {
                     this.serialPort = new System.IO.Ports.SerialPort();
                     this.serialPort.PortName = value;
                     this.serialPort.BaudRate = 9600;
                     this.serialPort.DataBits = 8;
                     this.serialPort.StopBits = System.IO.Ports.StopBits.One;
                     this.serialPort.Parity = System.IO.Ports.Parity.Even; 
                 }
             }
             catch (System.Exception ex)
             {
                 Logger.Write(&quot;[ERROR]&quot; + ex.Message);
             }
         }
         get =&gt; comport;
     }

     [Message]
     public string OffOn
     {
         set
         {
             if (OffOnArgument != null)
             {
                 OffOnArgument.TryToGetValue(&quot;Argument&quot;, out Value v);
                 if (v.String() == &quot;yellow&quot;)
                 {
                     this.SetColor(v.String());
                 }
                 else if (v.String() == &quot;red&quot;)
                 {
                     this.SetColor(v.String());
                 }
                 this.offon = value;
                 this.serialPort.Write(value + &quot;\n&quot;);
                 Logger.Write(&quot;[SET]&quot; + v.String());
             }


         }
         get =&gt; this.offon;
     }
</code></pre>
<h4 id="heater-package">heater package<a class="headerlink" href="#heater-package" title="Permanent link">&para;</a></h4>
<pre><code class="language-C#">
 [Port(typeof(Heater))]
 public class Heater
 {  
    [Message]
    public string Power
    {
         set;
         get;
    }
    // &quot;Property&quot; applied to the TempProperty property.
    [Property(&quot;Temp&quot;)]
    public IProperty TempProperty
    {
        set;
        get;
    }
    // &quot;Message&quot; applied to the Temp property.
    [Message]
    public double Temp
    {
        get
        {
            Random r = new Random(100);
            // Checks if the &quot;Arguments&quot; parameter of TempProperty is set to &quot;F&quot; for Fahrenheit. 
            if (this.TempProperty[&quot;Arguments&quot;] == &quot;F&quot;)
            {
                return (r.NextDouble() * 9 / 5) + 32;
            }
            // Checks if the &quot;Arguments&quot; parameter of TempProperty is set to &quot;C&quot; for Celsius.
            else if (this.TempProperty[&quot;Arguments&quot;] == &quot;C&quot;)
            {
                return r.NextDouble();
            }
            return 1;
        }
    } 
 }

</code></pre>
<p><br/>
<br/></p>
<h4 id="build-packages">build packages<a class="headerlink" href="#build-packages" title="Permanent link">&para;</a></h4>
<p><br/></p>
<div class="console">
    <div class="console-content">
        port build 'path' --o BulbLib1
        port build 'path' --o BulbLib2
    </div>
</div>

<p><br></p>
<div class="console">
    <div class="console-content">
        port build 'path' --o HeaterLib1
        port build 'path' --o HeaterLib2
    </div>
</div>

<p><br></p>
<h2 id="how-to-create-a-port-project">How to create a port-project<a class="headerlink" href="#how-to-create-a-port-project" title="Permanent link">&para;</a></h2>
<hr />
<p>Before starting a Port project, you need to create a root folder that defines your messages. The subfolders within this root folder are managed as groups by Port, allowing users to organize messages by group. The root folder contains files with the <code>*.enum</code> extension and the structure of sub-group folders. Within the sub-group folders, message definition documents with the <code>*.msg</code> extension are created.</p>
<h3 id="heres-an-example">Here's an example<a class="headerlink" href="#heres-an-example" title="Permanent link">&para;</a></h3>
<p><br/></p>
<div class="console">
    <div class="console-content">
    cd C:\Users\sample
  </div>
</div>
<p><br/></p>
<div class="console">
    <div class="console-content">
    port new sample
  </div>
</div>
<p><br/></p>
<div class="console">
   <div class="console-content">
    port add --group room1,room2
  </div>
</div>

<h4 id="project-layouts">Project Layouts<a class="headerlink" href="#project-layouts" title="Permanent link">&para;</a></h4>
<pre><code>sample/
│
├── room1/
│   ├── *.msg
│
├── room2/
│   ├── *.msg 
│
└── *.enum
</code></pre>
<h2 id="how-to-add-messages">How to add messages<a class="headerlink" href="#how-to-add-messages" title="Permanent link">&para;</a></h2>
<hr />
<p>To declare a message, you need to edit the <code>*.msg</code> file in the sub-folder you created. By defining message data types and Annotation as shown below, you can later utilize various features such as automatic logging and backup. Additionally, you can define relationships using predefined relations.</p>
<h4 id="sample-message-files">Sample message files<a class="headerlink" href="#sample-message-files" title="Permanent link">&para;</a></h4>
<pre><code>    BulbOnOff     enum.OffOn  pkg:Blub1.OffOn     
    RoomTemp1     num         pkg:Heater1.Temp  property:{&quot;MIN&quot;:0,&quot;MAX&quot;:300,&quot;Arguments&quot;:&quot;C&quot;}
    RoomTemp2     num         pkg:Heater1.Temp  property:{&quot;MIN&quot;:0,&quot;MAX&quot;:300,&quot;Arguments&quot;:&quot;F&quot;}       
</code></pre>
<h2 id="how-to-link-packages">How to link packages<a class="headerlink" href="#how-to-link-packages" title="Permanent link">&para;</a></h2>
<hr />
<h4 id="checking-for-package">checking for package<a class="headerlink" href="#checking-for-package" title="Permanent link">&para;</a></h4>
<div class="console">
    <div class="console-content"> 
    port ls pkg 
   </div>
</div>
<p><br></p>
<h4 id="packages-list">packages list<a class="headerlink" href="#packages-list" title="Permanent link">&para;</a></h4>
<div class="console">
    <div class="console-content"> 
    package1  [DateTime]
    package2  [DateTime]
    package3  [DateTime]
    package4  [DateTime] 
   </div>
</div>

<p><br></p>
<h4 id="set-a-packages">Set a packages<a class="headerlink" href="#set-a-packages" title="Permanent link">&para;</a></h4>
<p><code>[proj.toml]</code></p>
<div class="console">
    <div class="console-content">
        ...

        # packages 
        [[packages]]
        key = 'Blub1'
        load = 'BulbLib.dll'
        path = 'pkg:BulbLib1.pkg'

        [[packages]]
        key = 'Blub2'
        load = 'BulbLib.dll'
        path = 'pkg:BulbLib2.pkg'

        [[packages]]
        key = 'Heater1'
        load = 'HeaterLib.dll'
        path = 'pkg:HeaterLib1.pkg'

        [[packages]]
        key = 'Heater2'
        load = 'HeaterLib.dll'
        path = 'pkg:HeaterLib2.pkg'
    </div>
</div>
<p><br/> </p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you see a message like <code>[ERROR][open ..\proj.toml: Access is denied.]</code>
granting administrator privileges to the port.exe program will resolve the issue.</p>
</div>
<p>After linking the relations to your project, you can verify the integration using the following command</p>
<h2 id="how-to-start-project">How to start project<a class="headerlink" href="#how-to-start-project" title="Permanent link">&para;</a></h2>
<p>Once all message definitions are complete, you can start the message server based on these definitions. Before running the server, upload all updated content to the local repository by entering <code>port push</code> in the console. Then, run the server with the command <code>port run [project-name]</code>.</p>
<div class="console">
    <div class="console-content">
       port push 
    </div>
</div>

<p><br></p>
<div class="console">
    <div class="console-content">
       port run sample  
    </div>
</div>
<p><br></p>
<div class="console">
    <div class="console-content">
      [localhost:5001]Port Running ... OK
       Access point count [4]
       Package count [2]
       Pressing 'CTRL + C' will initiate server shutdown.
       Please wait for all processes to safely terminate before closing the application.
    </div>
</div>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When running the server, if you include <code>--ng ignore</code> in the command, it will summarize only the points where errors (NG) occur. For detailed information on these NG points, you can visit the following URL to view the NG point table: 
<p><a href="http://localhost:5001/api/app/ng/?view=table">http://localhost:5001/api/app/ng/?view=table</a></p></p>
</div>
<h4 id="good-luck">Good luck!<a class="headerlink" href="#good-luck" title="Permanent link">&para;</a></h4>
<style>

.console {
    width: 80%;
    height: 80%;
    background-color: whitesmoke;
    color: black;
    padding: 20px;
    box-sizing: border-box;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    overflow-y: auto;
}
.yellow{
    color:yellow;
}
.console-content {
    white-space: pre-wrap;
}

.console-content p {
    margin: 0;
}


.notepad {
    width: 100%;
    height: 80%;
    background-color: white;
    color: black;
    padding: 20px;
    box-sizing: border-box;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    overflow-y: auto;
}

.notepad:before {
    content: '';
    position: absolute;
    top: 10px;
    left: 20px;
    right: 20px;
    height: 2px;
    background-color: #ccc;
}

.notepad:after {
    content: '';
    position: absolute;
    top: 30px;
    left: 20px;
    right: 20px;
    height: 2px;
    background-color: #ccc;
}

.notepad-content {
    margin-top: 40px;
}

.notepad-content p {
    margin: 0 0 10px;
    line-height: 1.5;
}
</style></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
          
            <hr>
            <p>
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
            </p>
          

          
          
      </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = ".."</script>
    
    <script src="../js/base.js"></script>
    <script src="../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
